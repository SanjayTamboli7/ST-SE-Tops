<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Calculate Sub Total Price Of Quantity</title>
        <link rel="stylesheet" href="css/CalculateSubTotal.css">
    </head>
    <body>
        <div class="ClsProduct">
            <h1 class="Clsh1">Calculate subtotal price of quantity</h1>
            <table class="ClsProductTable" id="ProductTable">
            </table>
        </div>
        <!-- <script type="text/javascript" src="js/CalculateSubTotal.js"> -->
        <script>

                const ProductData = 
                    [
                        {ProductName:"Chopper", ProductImage:"image/Chopper.jpg", ProductUnitPrice:129},
                        {ProductName:"DinnerSet", ProductImage:"image/DinnerSet.jpg", ProductUnitPrice:219},
                        {ProductName:"Kadhai", ProductImage:"image/Kadhai.jpeg", ProductUnitPrice:309},
                        {ProductName:"Pan", ProductImage:"image/Pan.jpeg", ProductUnitPrice:229},
                        {ProductName:"Pressure-Cooker", ProductImage:"image/Pressure-Cooker.jpg", ProductUnitPrice:359}
                    ]

                    function ShowSubTotal()
                {
                    let ArrQty = document.querySelectorAll(".ClsQuantity");
                    let ArrUnitPrice = document.querySelectorAll(".ClsUnitPrice");
                    let ArrSubTotal = document.querySelectorAll(".ClsSubTotal");
                    // let loopctr = 0

                    console.log(ArrQty) 
                    console.log("Before loop") 
                    for(let loopctr=0; loopctr<=ArrQty.length; loopctr++)
                    {
                        ArrSubTotal[loopctr] = ( ArrQty[loopctr] * ArrUnitPrice[loopctr] )
                            // loopctr = loopctr + 1
                            console.log("inside loop")
                            console.log(ArrSubTotal[loopctr])
                    }

                    // while ( loopctr<=ArrQty.length)
                    //     {
                    //         ArrSubTotal[loopctr] = ( ArrQty[loopctr] * ArrUnitPrice[loopctr] )
                    //         loopctr = loopctr + 1
                    //         console.log("inside loop")
                    //     }

                    console.log("After loop")
                }       

            function GetProductData()
                {
                    // const ProductData = 
                    // [
                    //     {ProductName:"Chopper", ProductImage:"image/Chopper.jpg", ProductUnitPrice:129},
                    //     {ProductName:"DinnerSet", ProductImage:"image/DinnerSet.jpg", ProductUnitPrice:219},
                    //     {ProductName:"Kadhai", ProductImage:"image/Kadhai.jpeg", ProductUnitPrice:309},
                    //     {ProductName:"Pan", ProductImage:"image/Pan.jpeg", ProductUnitPrice:229},
                    //     {ProductName:"Pressure-Cooker", ProductImage:"image/Pressure-Cooker.jpg", ProductUnitPrice:359}
                    // ]
                    
                    let LineData = '<tr class="ClsRow"><td class="ClsCellHeading">Product Info</td><td class="ClsCellHeading">Quantity</td><td class="ClsCellHeading">Unit Price</td><td class="ClsCellHeading">Price Sub Total</td><td class="ClsCellHeading">Action</td></tr>'
                    LineData = LineData + ProductData.map((Value)=>{
                        return '<tr class="ClsRow">' + '<td class="ClsCell">' + '<img class="ClsCellImage" src="' + Value.ProductImage + '"class="ClsQuantity" alt="Image Not Found">' + Value.ProductName + "</td>" + '<td class="ClsCell"><label for="Qty">Enter: </label> <input type="number" class="ClsQuantity" id="Qty" name="nQty" placeholder="0" onchange="ShowSubTotal()"></td>' + '<td class="ClsUnitPrice">' + Value.ProductUnitPrice + "</td>" + '<td class="ClsSubTotal">0</td>' + '<td class="ClsCell"><button>Remove</button></td>' + '</tr>'
                    })
                    
                    document.getElementById("ProductTable").innerHTML = LineData;
                
                }
                GetProductData()
        </script>
    </body>
